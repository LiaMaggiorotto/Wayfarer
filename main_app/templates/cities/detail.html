{% extends 'base.html' %}


{% block content %}




<div style="margin: auto;" class="ui two divided column center aligned page grid">
 
    <div class="three column row">
      
      <div id="all_cities" class="column" style="overflow: auto; overflow-x: hidden;max-height: 30em; margin: 5em 2em 2em 2em;"> 
        
        <h1 style="font-family: 'Raleway', sans-serif; font-weight: 700;">Cities of The World</h1>
         
            {% for city in cities %}
            <header style="font-size: 2em; display: flex; margin: 1em 1em .5em 2.25em;">{{city.name}}</header>
              {% if city == currentCity %}
                <p class="orange"><a href="{% url 'city_detail' city.id %}">
                 
                      <img style="max-width: 12em;max-height: 13em; margin: auto;" class="rounded ui image" src="{{ city.image }}">
                </a></p>
              {% else %}
                <p class="orange"><a href="{% url 'city_detail' city.id %}">
                      <img style="max-width: 12em;max-height: 13em; margin: auto;" class="rounded ui image" src="{{ city.image }}">
                </a></p>
              {% endif %}
          {% endfor %} 
          </div>
        
      <div id="all_posts" class=" centered column" style="margin: 3em 0em 0em 3em;min-width: 35em;"> 
           <!-- POSTS and currenty city -->

           {% for city in cities %}
           {% if city == currentCity %}
           <div style="margin: 0em 0em 0em 7em; min-width: 10em;" class="column">
         
              
           
          
      
            
              <div class="ui_container">
                  
                     <h1>{{city.name}}</h1>
                    <h2>{{city.country}}</h2>
                    <img class=" ui rounded large image" src="{{ city.image }}">
              </div>
                     
              
               
                  <input id="add_icon" type="button" value="Add Post" onclick="add_post()" class="ui basic primary rounded button" />
               
              
            
            
          </div>
          {% endif %}
          {% endfor %} 
           
      
       
         
       
          
            <!-- POSTS -->

            
            <div id="ind_posts_cities" class=" centered column" style="margin: 3em 0em 0em 3em;min-width: 30em;"> 
             <div style="margin: 3em 0em 0em 7em;"class="centered column">
              <h1 style="word-wrap: break-word;font-family: 'Raleway', sans-serif; font-weight: 700;">{{currentCity.name}}'s Posts</h1>
             </div>
          
             <ul style="list-style: none;overflow: auto; overflow-x: hidden; max-height: 25em; min-width: 40em;">
             {% for post in posts %}
          
             <div style="word-wrap: break-word; min-width: 30em;" class="ui cards">
               <div style="margin: 3em 0em 0em 1.5em;min-width: 30em;" class="card">
                 <div class="content">
             
                   <div class="header">{{ post.title }}</div>
                   <div class="meta">{{ post.author }}</div>
                  </a>
                   <div class="description">
                     {{ post.body }}
                    
                   </div>
                 </div>
               </div>
               </div>
     
      {% endfor %}
        

      
      
        </ul>
       
        </div>
        </div>

      </div>
<div id="add_post" class="ui modal">
  <i class="close icon"></i>
  <div class="header">
    Add Post to {{currentCity}}
  </div>
  <div class="content">
    <form class="ui form" action="{% url 'city_detail' currentCity.id %}" method="POST">
        {% csrf_token %}
        {{ post_create_form_errors }}
        {{ post_form.as_p }}
        <input type="submit" class="ui rounded grey button" value="Add Post" />
    </form>
  </div>
</div>

{% endblock%}